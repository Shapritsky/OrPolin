<!DOCTYPE html>
<html lang="he">
<head>
    <meta charset="utf-8" />
    <title>תמונות מתחלפות</title>
    <link href="StyleSheet1.css" rel="stylesheet" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Amatic+SC:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>

    <div class="toggle">
        <span></span>
        <span></span>
        <span></span>
    </div>
    <nav>
        <div class="close">X</div>
        <a href="Main.html">ראשי</a>
        <a href="mirror.html">מצלמה שבטלפון</a>
        <a href="Gallrey.html">תמונות</a>
        <a href="פרופורציה.html">פרופורציה</a>
    </nav>
    <div class="image-grid">
        <img src="1.jpg" alt="Image 1" class="image" />
        <img src="2.jpg" alt="Image 2" class="image" />
        <img src="3.jpg" alt="Image 3" class="image" />
        <img src="4.jpg" alt="Image 4" class="image" />
        <img src="5.jpg" alt="Image 5" class="image" />
        <img src="6.jpg" alt="Image 6" class="image" />
        <img src="7.jpg" alt="Image 7" class="image" />
        <img src="8.jpg" alt="Image 8" class="image" />
        <img src="10.jpg" alt="Image 10" class="image" />
        <img src="11.jpg" alt="Image 11" class="image" />
        <img src="12.jpg" alt="Image 12" class="image" />
        <img src="13.jpg" alt="Image 13" class="image" />
        <img src="14.jpg" alt="Image 14" class="image" />
        <img src="15.jpg" alt="Image 15" class="image" />
        <img src="16.jpg" alt="Image 16" class="image" />
        <img src="17.jpg" alt="Image 17" class="image" />
        <img src="18.jpg" alt="Image 18" class="image" />
        <img src="20.jpg" alt="Image 20" class="image" />
        <img src="21.jpg" alt="Image 21" class="image" />
        <img src="22.jpg" alt="Image 22" class="image" />
        <img src="24.jpg" alt="Image 24" class="image" />
    </div>

    <!-- Modal -->
    <div class="modal" id="modal">
        <span class="close-modal">&times;</span>
        <img class="modal-content" id="img01" alt="Modal Image">
    </div>

    <script>
        // אלמנטים למודל
        const modal = document.getElementById("modal");
        const modalImg = document.getElementById("img01");
        const closeModalBtn = document.querySelector(".close-modal");
        const images = document.querySelectorAll(".image");

        // פתיחת המודל
        images.forEach((img) => {
            img.addEventListener("click", () => {
                modal.style.display = "flex"; // הצגת המודל
                modalImg.src = img.src; // עדכון התמונה במודל
            });
        });

        // סגירת המודל בלחיצה על הכפתור
        closeModalBtn.addEventListener("click", () => {
            modal.style.display = "none";
        });

        // סגירת המודל בלחיצה על הרקע
        modal.addEventListener("click", (event) => {
            if (event.target === modal) {
                modal.style.display = "none";
            }
        });

        // מערך לשמירת חמש התמונות האחרונות שנבחרו
        let lastImages = [];

        // פונקציה להחלפת תמונה באופן רנדומלי
        function switchImages() {
            let index = Math.floor(Math.random() * images.length);
            let newImage;

            do {
                newImage = Math.floor(Math.random() * 24) + 1;
            } while (lastImages.includes(newImage));

            lastImages.push(newImage);
            if (lastImages.length > 5) {
                lastImages.shift();
            }

            // החלת אפקט עילמות לתמונה
            images[index].classList.add('fade-out');
            setTimeout(() => {
                images[index].src = `${newImage}.jpg`;
                images[index].classList.remove('fade-out');
                images[index].classList.add('fade-in');
                setTimeout(() => {
                    images[index].classList.remove('fade-in');
                }, 2000);
            }, 2000);
        }

        // קריאה לפונקציה כל 5 שניות
        setInterval(switchImages, 2500);
    </script>
    <script>

        let toggler = document.querySelector(".toggle");
        let close = document.querySelector(".close");
        let nav = document.querySelector("nav");// הוספנו את השורה הזו

        // כאשר לוחצים על אייקון התפריט
        toggler.onclick = function () {
            nav.classList.add("open");
        }

        // כאשר לוחצים על כפתור הסגירה
        close.onclick = function () {
            nav.classList.remove("open");
        }

        // כאשר לוחצים על מקש ה-Escape
        document.onkeyup = function (e) {
            if (e.key === "Escape") {
                nav.classList.remove("open");
            }
        }
    </script>


</body>
</html>
